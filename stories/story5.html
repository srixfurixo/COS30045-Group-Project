<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Vaccination Impact on Cases and Deaths</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="stylesheet" href="../css/styles.css"> 
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://d3js.org/d3.v6.min.js"></script>
  <script src="story5.js" defer></script>
</head>
<body>
  <header class="logo-header bg-primary gradient-header">
    <div class="container">
      <a class="logo text-white" href="../index.html">FORMULA DATA</a>
    </div>
  </header>
  <nav class="story-header"> 
    <div>
      <ul class="story-list">
        <li class="story">
          <a class="story-link" href="story1.html">Story 1 <i class="bi bi-globe-americas ms-2"></i></a>
        </li>
        <li class="story">
          <a class="story-link" href="story2.html">Story 2 <i class="bi bi-hospital ms-2"></i></a>
        </li>
        <li class="story">
          <a class="story-link" href="story3.html">Story 3 <i class="bi bi-heart-pulse"></i></a>
        </li>
        <li class="story">
          <a class="story-link" href="story4.html">Story 4 <i class="bi bi-clipboard-pulse ms-2"></i></a>
        </li>
        <li class="story">
          <a class="story-link" href="story5.html">Story 5 <i class="bi bi-bar-chart-line"></i></a>
        </li>
        <li class="story">
          <a class="story-link" href="credits.html">Credits <i class="bi bi-info-circle ms-2"></i></a>
        </li>
      </ul>
    </div>
  </nav>

  <div id="content">
    <h1 class="title">Deaths vs. Cumulative Vaccinations</h1>
    <div id="chart" class="chart-container"></div>

    <!-- Removed x-label and y-label text elements -->
    <!--
    <text
        class="x-label"
        text-anchor="middle"
        x="<...>"
        y="<...>"
    >
        COVID-19 Vaccination Doses per Hundred
    </text>

    <text
        class="y-label"
        text-anchor="middle"
        transform="rotate(-90)"
        x="<...>"
        y="<...>"
    >
        Daily New Deaths per Million
    </text>
    -->

    <!-- Fixed Controls Container at the bottom of the graph -->
    <div class="fixed-controls">
      <div id="controls" class="p-2">
        <div class="slider-container">
          <button id="play-button" class="btn btn-primary btn-sm me-2">Play</button>
          <span id="date-display" class="me-2"></span>
          <input type="range" class="timeline-slider form-range" id="date-slider">
        </div>
        <div id="country-menu" class="me-2">
          <!-- Checkboxes for countries will be dynamically generated here -->
        </div>
        <div class="toggle-lines">
          <input type="checkbox" id="toggle-lines" class="form-check-input">
          <label for="toggle-lines" class="form-check-label">Show Lines</label>
        </div>
        <div class="metric-selection">
          <label for="metric-select">Metric:</label>
          <select id="metric-select" class="form-select">
            <option value="cases">Daily New Cases</option>
            <option value="deaths">Daily New Deaths</option>
          </select>
        </div>
      </div>
    </div>

    <hr class="my-4">
    <h2 class="text-center mb-4">Vaccination Impact on Cases and Deaths</h2>
    <div class="text-center mb-3">
        <label for="year-select">Select Year: </label>
        <select id="year-select" class="form-select d-inline-block w-auto">
            <option value="all">All Years</option>
            <option value="2021">2021</option>
            <option value="2022">2022</option>
            <option value="2023">2023</option>
        </select>
    </div>

    <!-- Wrap small multiples and legend in a container -->
    <div id="small-multiples-container">
        <!-- The legend will be inserted here by the script -->
        <div id="my_dataviz" class="d-flex flex-wrap justify-content-center"></div>
    </div>

    <div class="text-center mt-3 mb-4">
        <label for="criteria-select">Select Metric: </label>
        <select id="criteria-select" class="form-select d-inline-block w-auto">
            <option value="deaths">New Deaths</option>
            <option value="cases">New Cases</option>
        </select>
    </div>

    <div class="tooltip"></div>
    <div class="small-multiple-tooltip"></div>
    <div class="main-viz-tooltip"></div>

    <section class="p-4 d-flex justify-content-center"> 
      <article class="bg-light rounded shadow-lg p-4 mb-4 pop-out-box" style="max-width: 800px; border: 3px solid #363535;">
        <h2>Introduction</h2>
        <p>Analyzing population size alongside the cumulative number of COVID-19 vaccinations provides insights into global vaccination coverage and highlights disparities in vaccine distribution. This visualization helps us understand how different countries have managed their vaccination campaigns relative to their population sizes, shedding light on the effectiveness and reach of these campaigns.</p>
      </article>
    </section>

    <section class="p-4 d-flex justify-content-center"> 
      <article class="bg-light rounded shadow-lg p-4 mb-4 pop-out-box" style="max-width: 800px; border: 3px solid #363535;">
        <h2>Analysis</h2>
        <p>A comparison of cumulative vaccinations against population size reveals that during the early stages of the pandemic, countries with smaller populations often achieved higher vaccination rates more quickly. This was due to the logistical challenges faced by larger countries. The graph also shows the impact of vaccine availability and distribution strategies on the overall vaccination coverage in different regions.</p>
      </article>
    </section>

    <section class="p-4 d-flex justify-content-center"> 
      <article class="bg-light rounded shadow-lg p-4 mb-4 pop-out-box" style="max-width: 800px; border: 3px solid #363535;">
        <h2>Conclusion</h2>
        <p>The comparison underscores the critical role of equitable vaccine distribution to meet the needs of populations worldwide. It highlights the importance of international cooperation and support to ensure that vaccines reach all corners of the globe, especially in countries with larger populations or fewer resources. The data suggests that a coordinated global effort is essential for effective pandemic management and future preparedness.</p>
      </article>
    </section>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <footer class="footer bg-primary gradient-header text-white text-center py-3">
      <div class="container">
        <p class="mb-0">Â© 2023 Formula Data. All rights reserved.</p>
      </div>
    </footer>
  </body>
</html>
