<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Mortality against Number of Vaccination Doses</title>

  <!-- Load Google Fonts and CSS for Bootstrap Icons and Bootstrap -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="stylesheet" href="../css/styles.css"> 
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Load D3.js and your custom script for the radar chart -->
  <script src="https://d3js.org/d3.v3.min.js"></script>
  <script src="story3.js" defer></script>

  <!-- Load Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <style>
    /* Center the radar chart */
    #radarChart {
      width: 100%;
      height: 400px; /* Increased height to accommodate legend */
      display: flex;
      flex-direction: column;
      align-items: center;
      margin-top: 20px; /* Add margin to position lower */
    }

    /* Radar chart styles */
    .radar-chart .area {
      fill-opacity: 0.6;
      stroke-width: 1px;
    }

    .radar-chart .circle {
      fill-opacity: 0.9;
    }

    .radar-chart .axis line,
    .radar-chart .level {
      stroke: #CDCDCD;
      stroke-width: 0.5px;
    }

    .radar-chart .axis text.legend.left {
      font-size: 11px;
      transform: translateX(-20px); 
    }

    .radar-chart .axis text.legend.right {
      font-size: 11px;
      transform: translateX(-30px); 
    }

    .radar-chart .axis text.legend.middle {
    font-size: 11px;
    transform: translate(-35px, 10px); /* Move 30px left and 30px up */
}

    /* Adjust tooltip styles */
    .tooltip {
      pointer-events: none;
    }

    .tooltip-bg {
      fill: #333;
      opacity: 0.9;
    }

    .tooltip-text {
      font-size: 12px;
      fill: white;
    }

    /* Ensure the tooltip is above other elements */
    .radar-chart .tooltip {
      z-index: 10;
    }

    /* Remove position absolute and display properties */
    /* ...remove any conflicting tooltip styles... */

    /* Legend styles */
    .legend {
      font-size: 12px;
    }

    .legend rect {
      stroke-width: 1;
      stroke: #ccc;
    }
  </style>
</head>
<body>
  <!-- Header and Navigation -->
  <header class="logo-header bg-primary gradient-header">
    <div class="container">
      <a class="logo text-white" href="../index.html">FORMULA DATA</a>
    </div>
  </header>
  <nav class="story-header"> 
    <div>
      <ul class="story-list">
        <li class="story">
          <a class="story-link" href="story1.html">Story 1 <i class="bi bi-globe-americas ms-2"></i></a>
        </li>
        <li class="story">
          <a class="story-link" href="story2.html">Story 2 <i class="bi bi-hospital ms-2"></i></a>
        </li>
        <li class="story">
          <a class="story-link" href="story3.html">Story 3 <i class="bi bi-heart-pulse"></i></a>
        </li>
        <li class="story">
          <a class="story-link" href="story4.html">Story 4 <i class="bi bi-clipboard-pulse ms-2"></i></a>
        </li>
        <li class="story">
          <a class="story-link" href="story5.html">Story 5 <i class="bi bi-virus2"></i></a>
        </li>
        <li class="story">
          <a class="story-link" href="credits.html">Credits <i class="bi bi-info-circle ms-2"></i></a>
        </li>
      </ul>
    </div>
  </nav>

  <!-- Content Section with Radar Chart Container -->
  <div id="content">
    <h2 class="title">Mortality against Number of Vaccination Doses</h2>
    <!-- Add controls for dataset selection -->
    <div class="controls text-center">
      <div class="btn-group" role="group" aria-label="Data View Buttons">
        <button id="showBoth" class="btn btn-primary">Show Both</button>
        <button id="showTop5" class="btn btn-secondary">Show Top 3</button>
        <button id="showBottom5" class="btn btn-secondary">Show Bottom 3</button>
      </div>
      <select id="countryDropdown" class="form-select d-inline-block mt-3" style="width: 200px;">
        <!-- Options will be populated -->
      </select>
    </div>
    <div id="radarChart"></div>
  </div>
  <section class="p-4 d-flex justify-content-center"> 
    <article class="bg-light rounded shadow-lg p-4 mb-4 pop-out-box" style="max-width: 800px; border: 3px solid #363535;">
      <h2>Introduction</h2>
      <p>During the COVID-19 pandemic, vaccinations became a central tool in reducing mortality and controlling the virus's spread. Five vaccines gained widespread global use: Pfizer-BioNTech, Sputnik V, Moderna, AstraZeneca, and Johnson & Johnson. This analysis compares the mortality rates in relation to the number of doses administered of these five vaccines, aiming to understand their impact on reducing fatalities across countries. The radar chart provides a visual comparison of these vaccines' effectiveness, highlighting the differences and similarities in their impact on mortality rates.</p>
    </article>
  </section>

  <section class="p-4 d-flex justify-content-center"> 
    <article class="bg-light rounded shadow-lg p-4 mb-4 pop-out-box" style="max-width: 800px; border: 3px solid #363535;">
      <h2>Analysis</h2>
      <p>Comparing COVID-19 mortality rates alongside vaccination data for the five vaccines shows a general trend of slightly reducing mortality. While each vaccine differs in technology, dosage requirements, and efficacy rates, all showed effectiveness in reducing mortality. Countries with high numbers of doses administered generally saw lower mortality rates, indicating the vaccines' role in mitigating the virus's impact. However, mortality rates weren’t solely dictated by vaccine doses. Variables like vaccination timing, population health demographics, and healthcare infrastructure influenced mortality outcomes. The radar chart helps to visualize these complex relationships and provides a clearer understanding of the vaccines' impact.</p>
    </article>
  </section>

  <section class="p-4 d-flex justify-content-center"> 
    <article class="bg-light rounded shadow-lg p-4 mb-4 pop-out-box" style="max-width: 800px; border: 3px solid #363535;">
      <h2>Conclusion</h2>
      <p>This comparison highlights the positive correlation between high vaccination rates and reduced COVID-19 mortality across the globe, reinforcing the importance of widespread vaccine distribution in combating pandemics. Future global health strategies could benefit from timely vaccine rollouts, broad accessibility, and data-driven public health measures that adapt based on vaccine performance and regional needs. The radar chart serves as a visual reminder of the critical role vaccines play in reducing mortality and controlling the spread of infectious diseases.</p>
    </article>
  </section>
  <footer class="footer bg-primary gradient-header text-white text-center py-3">
    <div class="container">
      <p class="mb-0">© 2023 Formula Data. All rights reserved.</p>
    </div>
  </footer>
</body>
</html>
